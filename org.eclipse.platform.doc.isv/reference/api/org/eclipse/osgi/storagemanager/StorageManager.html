<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Mon Jun 11 06:03:03 EDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>StorageManager (Eclipse Platform API Specification)</title>
<meta name="date" content="2018-06-11">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StorageManager (Eclipse Platform API Specification)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StorageManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><span style='font-size:small'><b>Eclipse Platform</b><br>Photon (4.8)</span></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/eclipse/osgi/storagemanager/ManagedOutputStream.html" title="class in org.eclipse.osgi.storagemanager"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/osgi/storagemanager/StorageManager.html" target="_top">Frames</a></li>
<li><a href="StorageManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.osgi.storagemanager</div>
<h2 title="Class StorageManager" class="title">Class StorageManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.eclipse.osgi.storagemanager.StorageManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">StorageManager</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Storage managers provide a facility for tracking the state of a group of files having 
 relationship with each others and being updated by several entities at the same time. 
 The typical usecase is in shared configuration data areas.
 <p>
 The facilities provided here are cooperative. That is, all participants must
 agree to the conventions and to calling the given API. There is no capacity
 to enforce these conventions or prohibit corruption.
 </p>
 <p>
 Clients can not extend this class
 </p>
 <p>
 Example
 <pre>
 //Open the storage manager
 org.eclipse.osgi.storagemanager.StorageManager cacheStorageManager = new StorageManager("d:/sharedFolder/bar/", false); //$NON-NLS-1$
 try {
         cacheStorageManager.open(true);
 } catch (IOException e) {
 // Ignore the exception. The registry will be rebuilt from source.
 }

 //To read from a file 
 java.io.File fileA = cacheStorageManager.lookup("fileA", false));
 java.io.File fileB = cacheStorageManager.lookup("fileB", false));
 //Do the reading code 
 new java.io.FileOutputStream(fileA);

 //To write in files 
 cacheStorageManager.add("fileC"); //add the file to the filemanager (in this case we assume it is not already here)
 cacheStorageManager.add("fileD");

 // The file is never written directly into the file name, so we create some temporary file
 java.io.File fileC = cacheStorageManager.createTempFile("fileC");
 java.io.File fileD = cacheStorageManager.createTempFile("fileD");

 //Do the actual writing here...

 //Finally update the storagemanager with the actual file to manage. 
 cacheStorageManager.update(new String[] {"fileC", "fileD"}, new String[] {fileC.getName(), fileD.getName()};

 //Close the file manager at the end
 cacheStorageManager.close();
 </pre>
 </p>
 <p>
 Implementation details <br>
 The following implementation details are provided to help with understanding the 
 behavior of this class.
 The general principle is to maintain a table which maps user-level file names
 onto an actual disk files.  If a file needs to be modified, 
 it is stored into a new file.  The old content is not removed from disk until all entities
 have closed there instance of the storage manager.
 Once the instance has been created, open() must be called before performing any other operation.
 On open the storage manager obtains a snapshot of the current managed files contents. If an
 entity updates a managed file, the storage manager will save the content for that instance of the 
 storage manager, all other storage manager instances will still have access to that managed file's 
 content as it was when the instance was first opened.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.2</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#StorageManager-java.io.File-java.lang.String-">StorageManager</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;base,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lockMode)</code>
<div class="block">Returns a new storage manager for the area identified by the given base
 directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#StorageManager-java.io.File-java.lang.String-boolean-">StorageManager</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;base,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lockMode,
              boolean&nbsp;readOnly)</code>
<div class="block">Returns a new storage manager for the area identified by the given base
 directory.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#add-java.lang.String-">add</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)</code>
<div class="block">Add the given managed file name to the list of files managed by this manager.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#close--">close</a></span>()</code>
<div class="block">This method declares the storage manager as closed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#createTempFile-java.lang.String-">createTempFile</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;file)</code>
<div class="block">Creates a new unique empty temporary-file in the storage manager base directory.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getBase--">getBase</a></span>()</code>
<div class="block">Returns the directory containing the files being managed by this storage
 manager.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getId-java.lang.String-">getId</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)</code>
<div class="block">Returns the current numeric id (appendage) of the given managed file.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getInputStream-java.lang.String-">getInputStream</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)</code>
<div class="block">Returns a managed <code>InputStream</code> for a managed file.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getInputStreamSet-java.lang.String:A-">getInputStreamSet</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;managedFiles)</code>
<div class="block">Returns a managed input stream set for the managed file names.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getManagedFiles--">getManagedFiles</a></span>()</code>
<div class="block">Returns a list of all the managed files currently being managed.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../org/eclipse/osgi/storagemanager/ManagedOutputStream.html" title="class in org.eclipse.osgi.storagemanager">ManagedOutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getOutputStream-java.lang.String-">getOutputStream</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)</code>
<div class="block">Returns a <code>ManagedOutputStream</code> for a managed file.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/eclipse/osgi/storagemanager/ManagedOutputStream.html" title="class in org.eclipse.osgi.storagemanager">ManagedOutputStream</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getOutputStreamSet-java.lang.String:A-">getOutputStreamSet</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;managedFiles)</code>
<div class="block">Returns an array of <code>ManagedOutputStream</code> for a set of managed files.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#isReadOnly--">isReadOnly</a></span>()</code>
<div class="block">Returns if readOnly state this storage manager is using.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#lookup-java.lang.String-boolean-">lookup</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile,
      boolean&nbsp;add)</code>
<div class="block">Returns the actual file location to use when reading the given managed file.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#open-boolean-">open</a></span>(boolean&nbsp;wait)</code>
<div class="block">This methods opens the storage manager.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#remove-java.lang.String-">remove</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)</code>
<div class="block">Removes the given managed file from management by this storage manager.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#update-java.lang.String:A-java.lang.String:A-">update</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;managedFiles,
      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;sources)</code>
<div class="block">Update the given managed files with the content in the given source files.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StorageManager-java.io.File-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StorageManager</h4>
<pre>public&nbsp;StorageManager(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;base,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lockMode)</pre>
<div class="block">Returns a new storage manager for the area identified by the given base
 directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>base</code> - the directory holding the files to be managed</dd>
<dd><code>lockMode</code> - the lockMode to use for the storage manager. It can have one the 3 values: none, java.io, java.nio 
 and also supports null in which case the lock strategy will be the global one.</dd>
</dl>
</li>
</ul>
<a name="StorageManager-java.io.File-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StorageManager</h4>
<pre>public&nbsp;StorageManager(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;base,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lockMode,
                      boolean&nbsp;readOnly)</pre>
<div class="block">Returns a new storage manager for the area identified by the given base
 directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>base</code> - the directory holding the files to be managed</dd>
<dd><code>lockMode</code> - the lockMode to use for the storage manager. It can have one the 3 values: none, java.io, java.nio 
 and also supports null in which case the lock strategy will be the global one.</dd>
<dd><code>readOnly</code> - true if the managed files are read-only</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="add-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)
         throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Add the given managed file name to the list of files managed by this manager.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFile</code> - name of the file to manage</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there are any problems adding the given file name to the manager</dd>
</dl>
</li>
</ul>
<a name="update-java.lang.String:A-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;managedFiles,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;sources)
            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Update the given managed files with the content in the given source files.
 The managedFiles is a list of managed file names which are currently managed. 
 If a managed file name is not currently managed it will be added as a 
 managed file for this storage manager.
 The sources are absolute (or relative to the current working directory) 
 file paths containing the new content for the corresponding managed files.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFiles</code> - the managed files to update</dd>
<dd><code>sources</code> - the new content for the managed files</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there are any problems updating the given managed files</dd>
</dl>
</li>
</ul>
<a name="getManagedFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getManagedFiles</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;getManagedFiles()</pre>
<div class="block">Returns a list of all the managed files currently being managed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the names of the managed files</dd>
</dl>
</li>
</ul>
<a name="getBase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBase</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;getBase()</pre>
<div class="block">Returns the directory containing the files being managed by this storage
 manager.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the directory containing the managed files</dd>
</dl>
</li>
</ul>
<a name="getId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public&nbsp;int&nbsp;getId(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)</pre>
<div class="block">Returns the current numeric id (appendage) of the given managed file.
 <code>managedFile + "." + getId(target)</code>. A value of -1 is returned 
 if the given name is not managed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFile</code> - the name of the managed file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the managed file</dd>
</dl>
</li>
</ul>
<a name="isReadOnly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>public&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">Returns if readOnly state this storage manager is using.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if this storage manager update state is read-only.</dd>
</dl>
</li>
</ul>
<a name="lookup-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookup</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;lookup(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile,
                   boolean&nbsp;add)
            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the actual file location to use when reading the given managed file. 
 A value of <code>null</code> can be returned if the given managed file name is not 
 managed and add is set to false.  
 <p>
 The returned file should be considered read-only.  Any updates to the content of this
 file should be done using <a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#update-java.lang.String:A-java.lang.String:A-"><code>update(String[], String[])</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFile</code> - the managed file to lookup</dd>
<dd><code>add</code> - indicate whether the managed file name should be added to the manager if 
 it is not already managed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the absolute file location to use for the given managed file or
               <code>null</code> if the given managed file is not managed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the add flag is set to true and the addition of the managed file failed</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;void&nbsp;remove(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)
            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Removes the given managed file from management by this storage manager.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFile</code> - the managed file to remove</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occured removing the managed file</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">This method declares the storage manager as closed. From thereon, the instance can no longer be used.
 It is important to close the manager as it also cleans up old copies of the managed files.</div>
</li>
</ul>
<a name="open-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open(boolean&nbsp;wait)
          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This methods opens the storage manager. 
 This method must be called before any operation on the storage manager.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wait</code> - indicates if the open operation must wait in case of contention on the lock file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurred opening the storage manager</dd>
</dl>
</li>
</ul>
<a name="createTempFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTempFile</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;createTempFile(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;file)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new unique empty temporary-file in the storage manager base directory. The file name
 must be at least 3 characters. This file can later be used to update a managed file.
 <p>
 Note that <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true#deleteOnExit--" title="class or interface in java.io"><code>File.deleteOnExit()</code></a> is not called on the returned file.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file name to create temporary file from.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly-created empty file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file can not be created.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#update-java.lang.String:A-java.lang.String:A-"><code>update(String[], String[])</code></a></dd>
</dl>
</li>
</ul>
<a name="getInputStream-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStream</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;getInputStream(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)
                           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns a managed <code>InputStream</code> for a managed file. 
 <code>null</code> can be returned if the given name is not managed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFile</code> - the name of the managed file to open.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an input stream to the managed file or 
 <code>null</code> if the given name is not managed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the content is missing, corrupt or an error occurs.</dd>
</dl>
</li>
</ul>
<a name="getInputStreamSet-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStreamSet</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>[]&nbsp;getInputStreamSet(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;managedFiles)
                                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns a managed input stream set for the managed file names. 
 Elements of the returned set may be <code>null</code> if a given name is not managed.
 This method should be used for managed file sets which use the output streams returned 
 by the <a href="../../../../org/eclipse/osgi/storagemanager/StorageManager.html#getOutputStreamSet-java.lang.String:A-"><code>getOutputStreamSet(String[])</code></a> to save data.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFiles</code> - the names of the managed files to open.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set input streams to the given managed files.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the content of one of the managed files is missing, corrupt or an error occurs.</dd>
</dl>
</li>
</ul>
<a name="getOutputStream-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputStream</h4>
<pre>public&nbsp;<a href="../../../../org/eclipse/osgi/storagemanager/ManagedOutputStream.html" title="class in org.eclipse.osgi.storagemanager">ManagedOutputStream</a>&nbsp;getOutputStream(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;managedFile)
                                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns a <code>ManagedOutputStream</code> for a managed file.  
 Closing the ouput stream will update the storage manager with the 
 new content of the managed file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFile</code> - the name of the managed file to write.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a managed output stream for the managed file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs opening the managed file.</dd>
</dl>
</li>
</ul>
<a name="getOutputStreamSet-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getOutputStreamSet</h4>
<pre>public&nbsp;<a href="../../../../org/eclipse/osgi/storagemanager/ManagedOutputStream.html" title="class in org.eclipse.osgi.storagemanager">ManagedOutputStream</a>[]&nbsp;getOutputStreamSet(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;managedFiles)
                                         throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns an array of <code>ManagedOutputStream</code> for a set of managed files.
 When all managed output streams in the set have been closed, the storage manager
 will be updated with the new content of the managed files. 
 Aborting any one of the streams will cause the entire content of the set to abort 
 and be discarded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>managedFiles</code> - list of names of the managed file to write.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of managed output streams respectively of managed files.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs opening the managed files.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StorageManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><span style='font-size:small'><b>Eclipse Platform</b><br>Photon (4.8)</span></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/eclipse/osgi/storagemanager/ManagedOutputStream.html" title="class in org.eclipse.osgi.storagemanager"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/osgi/storagemanager/StorageManager.html" target="_top">Frames</a></li>
<li><a href="StorageManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><br><span style='font-size:small;float:right'>Copyright (c) 2000, 2018 Eclipse Contributors and others. All rights reserved.</span><span style='font-size:small'><a href='../../../../../misc/api-usage-rules.html'>Guidelines for using Eclipse APIs.</a></span></small></p>
</body>
</html>
