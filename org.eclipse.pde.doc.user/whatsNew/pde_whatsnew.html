<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="copyright" content="Copyright (c) Eclipse contributors and others 2018. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."/>
<meta http-equiv="Content-Language" content="en-us"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="STYLESHEET" href="../book.css" type="text/css"/>
<style type="text/css">
body {max-width: 900px;}
table.news col.title {width: 30%;}
/*img {max-width: 520px;}*/
table.news {table-layout: fixed; border-collapse: collapse; width: 100%;}
table.news td {border-top: solid thin black; padding: 10px; overflow: visible;}
table.news tr {vertical-align: top;}
table.news tr td.section {font-size: 20px; font-weight: bold;}
table.news tr td.title {vertical-align: top; font-weight: bold;}
table.news tr td.content {vertical-align: top;}
ul {padding-left: 13px;}
</style>
<title>What's New in Photon (PDE)</title>
</head>

<body>
<h2>What's New in Photon (PDE)</h2>
<p>Here are descriptions of some of the more interesting or significant changes made to the Plug-in Development Environment (PDE)
for the Oxygen (4.8) release of Eclipse. They are grouped into:</p>
<ul> <!-- NOTE: Sync ../topics_WhatsNew.xml with this! -->
	<li><a href="#dialogs-wizards-views">Dialogs, Wizards and Views</a></li>
	<li><a href="#editors">Editors</a></li>
	<li><a href="#pde-compiler">PDE Compiler</a></li>
</ul>
<p>See also the
<b><a href="../../org.eclipse.platform.doc.user/whatsNew/platform_whatsnew.html">Eclipse Platform What's New</a></b>
and
<b><a href="../../org.eclipse.jdt.doc.user/whatsNew/jdt_whatsnew.html">JDT What's New</a></b>
documents.</p>
<p>We also recommend to read the <a href="../tips/pde_tips.htm">Tips and Tricks</a>.</p>
<br/>

<table class="news">
<colgroup>
  <col class="title" />
  <col />
</colgroup>
<tbody>

  <!-- ******************** Dialogs, Editors and Views ********************** -->
  <tr>
    <td id="dialogs-wizards-views" class="section" colspan="2"><h2>Dialogs, Wizards and Views</h2></td>
  </tr>
  
  <tr id="prototype-eclipse-launch-configuration">
    <td class="title">Launch configuration prototypes for Eclipse Launch Configurations</td>
    <td class="content">
      A Eclipse <b>Launch Configuration</b> can now be based on a prototype.
      <p>
        <img src="images/prototype-eclipse-launch-configuration.png" alt="Prototype Eclipse Launch Configuration" />
      </p>
      A prototype seeds attributes in its associated Eclipse Launch Configurations with the settings specified in the Prototype tab.
      <p>
        <img src="images/prototype-tab-eclipse-launch-configuration-1.png" alt="Prototype Tab Eclipse Launch Configuration 1" />
      </p>
      Once an Eclipse Launch Configuration has been created, you can override any initial settings from the prototype.
      You can also reset the settings of an Eclipse Launch Configuration with the ones from its prototype. An Eclipse Launch Configuration 
      maintains a link to its prototype, but is a complete stand-alone launch configuration than can be launched, exported, shared, etc.
      <p>
        <img src="images/prototype-tab-eclipse-launch-configuration-2.png" alt="Prototype Tab Eclipse Launch Configuration 2" />
      </p>
    </td>
  </tr>
  
  <tr id="testsource-pde">
    <td class="title">Test sources</td>
    <td class="content">
      Source folders in plug-in projects whose project name ends with ".test" or ".tests", or contains ".tests.", are
      now marked to contain <a href="../../org.eclipse.jdt.doc.user/whatsNew/jdt_whatsnew.html#jdt-test-sources">test sources</a> when using <b>Plug-in Tools > Update Classpath...</b>,
      so the related filtering options in various tools can be used.
      <p>
      The exact name matching rule can be configured as a regular expression in <b>Preference > Plug-In Development </b> in the group <b>Test plug-in detection</b>. Setting it to an empty value disables this mechanism.
	  </p>
	  <p>
	    <img src="images/testsources-pde-526910.png" alt="" />
	  </p>
    </td>
  </tr>
  
  <tr id="pde-smart-import">
    <td class="title">PDE detects and configures folders as projects during import</td>
    <td class="content">
    	When using the import wizard from <b>File > Open Projects from Filesystem...</b> or <b>File > Import... > General > Projects from Folder or Archive</b>, PDE detects
    	folders that can be turned into PDE projects (i.e, folders which contain a <code>META-INF/MANIFEST.MF</code> or a <code>feature.xml</code>) and configures them accordingly.
    	<p>Note that the folders already configured as Eclipse projects (already containing a <code>.project</code> file) will be imported "as is" and won't be reconfigured by PDE.</p>
    </td>
  </tr>
  
  <tr id="pde-generic-reqs-caps-handling">
    <td class="title">PDE handles generic bundle requirements/capabilities</td>
    <td class="content">
      PDE now handles dependencies described by the
      <code>Require-Capability</code> and <code>Provide-Capability</code> manifest headers.
      These dependencies are taken into account additionally when computing the required bundles for a selected set of bundles
      from the target platform.
      <p>
        The most noticeable place where this feature is available is in the Eclipse launch configuration page 
        i.e. <b>Eclipse launch configuration -> Plug-ins -> Add Required Plug-ins</b>.
      </p>
      <p>
        For example, a usual effect is that the plug-in <code>org.apache.felix.scr</code> with the
        dropdown "Launch With: plug-ins selected below" selected on Plug-ins tab
        will be additionally selected by the action. This plug-in declares <code>Provide-Capability: osgi.extender</code>, which
        is consumed as <code>Require-Capability: osgi.extender</code> by some plug-ins.
      </p>
      <p>
        Further the computation of required plug-ins is performed recursively now until added plug-ins do not introduce more
        transitive requirements.
      </p>
    </td>
  </tr>
  
   <tr id="eclipse-rcp-template-icons">
    <td class="title">New icons for the Eclipse 4 RCP template</td>
    <td class="content">
      The Eclipse 4 RCP Application template has been updated to use material design like icons.
      <p>
        <img src="images/eclipse-4-rcp-icons.png" alt=""/>
      </p>
    </td>
  </tr>
  
  <!-- ******************** Editors ********************** -->
  <tr>
    <td id="editors" class="section" colspan="2"><h2>Editors</h2></td>
  </tr>
  
  <tr id="target-editor-source-tab">
    <td class="title">Source tab added to target definition editor</td>
    <td class="content">
      Within the current default <b>Target Definition Editor</b>,
        a <b>Source</b> tab has been added which contains the extension based text editor's Target Definition Editor.
        The editor is concurrent with the other tabs and the update made will be mirrored between the tabs.
     <p>
      <img src="images/target-editor-source-tab.png" alt=""/>
     </p>
    </td>
  </tr>
  
  <tr id="env-argument-tag-generic-target-editor">
    <td class="title">Support for environment argument tags in generic editor</td>
    <td class="content">
      For the target files, highlighting and auto-complete are supported for environment argument tags in <b>Generic Text Editor</b> and the <b>Target Editor</b> Source tab.
      <p>
      	<img src="images/tp-enviro-support.png" alt=""/>
      </p>
    </td>
  </tr>
  
  <tr id="update-ui-version">
    <td class="title">Command to update IU versions</td>
    <td class="content">
      The right-click context menu within <code>.target</code> file source editors now contains a new <b>Update IU Versions from Repositories</b> command to update the version attribute of all units to the newest available version.
	  <p>Before:</p>
	  <p>
	    <img src="images/update_iu_command_before.png" alt="" />
	  </p>
	  <p>After:</p>
	  <p>
	    <img src="images/update_iu_command_after.png" alt="" />
	  </p>
    </td>
  </tr>
  <tr id="target-source-editor-dark-theme">
    <td class="title">Improved coloring of the target file editor in the dark theme</td>
    <td class="content">
      The text colors for <code>.target</code> file source editors have been updated to be more legible in the dark theme.
	  <p>Before:</p>
	  <p>
	    <img src="images/target-editor-dark-before.png" alt="" />
	  </p>
	  <p>After:</p>
	  <p>
	    <img src="images/target-editor-dark-after.png" alt="" />
	  </p>
    </td>
  </tr>
  
  <!-- ******************** PDE Compiler ********************** -->
  <tr>
    <td id="pde-compiler" class="section" colspan="2"><h2>PDE Compiler</h2></td>
  </tr>
  
  <tr id="eclipse-pde-no-automatic-modules">
    <td class="title">PDE compiler reports absence of Automatic-Module-Name</td>
    <td class="content">
     A Manifest builder warning is reported on the manifest file if there is no <code>Automatic-Module-Name </code> header in it 
     (required for compatibility in a Java modular setup - Java 9 or later). The quickfix for this problem is to add an <code>Automatic-Module-Name</code> with the same 
	name as <code>Bundle-SymbolicName</code>. For a newly created plugin project, this is added
	automatically.
   <p>
	On the  <b>Plug-in Development &gt; Compilers</b> preference  page in the
	<b>Plug-ins</b> tab, there is a new option in the <b>General</b> section to control 
	the severity of this issue.
   </p>
      <p>
        <img src="images/pde-no-automatic-module-name-report-latest.png" alt=""/>
      </p>
    </td>
  </tr>
  
  <tr id="option-to-control-pde-compiler">
    <td class="title">New option to control PDE compiler warning</td>
    <td class="content">
      There is an option to control the PDE compiler issue "Bundles with a Service-Component should set the Bundle-ActivationPolicy to lazy."
      By default, this is set to warning.
     <p>
      <img src="images/pde-compiler-warning-option.png" alt=""/>
     </p>
    </td>
  </tr>

</tbody>
</table>
</body>
</html>
